# 함수형 프로그래밍

## 정의

함수형 프로그래밍은 애플리케이션, 함수의 구성 요소,
더 나아가 언어 자체를 함수처럼 여기도록 만들고,
이러한 **함수 개념을 가장 우선순위**에 놓는다.

> **함수형 사고방식**은 문제의 해결 방법을 **동사**(함수)들로 **구성**(조합)하는 것

### 함수를 가장 우선순위에 놓는 프로그래밍

```js
// 데이터(객체) 기준
duck.moveLeft()
duck.moveRight()
dog.moveLeft()
dog.moveRight()

// 함수 기준
moveLeft(dog)
moveRight(duck)
moveLeft({ x: 5, y: 2 })
moveRight(dog)
```

## 사이드 이펙트

- 값이 전역으로 변한다. (변수, 속성, 데이터 구조, ...)
- 함수 전달인자의 원래 값이 변한다.
- 예외를 발생시킨다.
- 화면에 출력되거나 로깅(logging)된다.
- 외부 과정이 발생한다.
- 사이드 이펙트를 가지는 다른 함수들을 유발한다.

다음 코드는 사이드 이펙트가 발생한다.

```js
let count = 0

let increment = function() {
  cont++
  return count
}
```

`count` 변수는 `function` 밖에 위치한다.

### 개선된 코드

```js
let increment = function(count) {
  return count + 1
}
```

## 사이드 이펙트의 단점

- 코드를 예측하기 어렵게 만든다.
- 디버깅하기 어렵게 만든다.

## 사이드 이펙트는 반드시 일어난다

함수형 프로그래밍의 목표는 단지 사이드 이펙트를 잘 피하도록 관리하는 것이다.
사이드 이펙트를 사용하면서 우리의 목표를 달성할 수 있다.
하지만, 사이드 이펙트를 광범위하게 사용하면 문제가 발생한다.
그래서, **사이드 이펙트를 관리**하는 것이 중요하다.

함수형 프로그래밍에서 사이드 이펙트를 관리하는 한 가지 방법은 사이드 이펙트를 가지는 코드를 같이 포함시키는 것이다.
그렇게 함으로써 모든 다른 것들은 사이드 이펙트를 가지지 않게 된다.

## 순수 함수

- 함수는 제공된 `input`에 의존하며 변화하는 외부 데이터에는 의존하지 않는다.
- 함수는 사이드 이펙트를 유발하지 않는다. 스코프를 넘어서 변화를 발생시키지 않는다.
- 같은 `input`이 주어지면, 함수는 항상 같은 결과를 반환한다.

## 일급 함수

```js
var f1 = function(a) { return a * a }
console.log(f1)
// ƒ (a) { return a * a }
```

변수에 함수가 담길 수 있다.

```js
function f2(f) {
  return f()
}

f2(function () {
  return 10
})
// 10
```

함수가 함수를 전달인자로 받을 수 있다.

언제 평가해도 상관없는 순수 함수들을 많이 만든다.
순수 함수들을 값으로 들고 다니며 적절한 시점에 평가한다.

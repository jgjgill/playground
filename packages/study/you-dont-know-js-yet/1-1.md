# 자바스크립트

`alert()` 와 `console.log()` 는 JS에 정의된 문법이 아니지만, JS의 함수와 객체 메서드 규칙을 따르고 JS처럼 보인다.

`alert` 호출은 JS이지만 `alert` 자체는 명세서에 없는 손님이다.

개발자 도구가 JS의 프로그램 처리 방식을 항상 엄격하게 준수하지 않는다.

개발자 도구는 ‘JS에 우호적인’ 별도의 환경이다.

JS는 다중 패러다임 언어라 절차적, 객체 지향, 함수형 스타일 코드 모두 작성 가능하다.

## 하위 호환성과 상위 호환성

하위 호환성: 단 한 번이라도 유효한 JS 문법이라고 인정되면 명세서가 변경되더라도 절대 그 유효성이 깨지지 않는다.

상위 호환성: 새로운 명세서에 추가된 문법으로 코드를 작성했을 때 이전 명세서를 준수하는 구형 JS 엔진에서 문제가 발생하지 않아야 한다.

JS는 상위 호환성을 보장하지 않는다.

## 간극을 줄이기 위한 노력

- 트랜스파일: 한 형태에서 다른 형태로 소스 코드를 변환해준다.
- 변환 후 산출물은 소스 코드이다.
- 트랜스파일러는 새로운 JS 문법을 오래된 문법으로 바꿔준다. ex) 바벨

## 간극을 메우기 위한 방법 찾기

`finally()` 에 대한 폴리필 예시

```js
if (!Promise.prototype.finally) {
  Promise.prototype.finally = function f(fn) {
    return this.then(
      function t(v) {
        return Promise.resolve(fn()).then(function t() {
          return v
        })
      },
      function c(e) {
        return Promise.resolve(fn()).then(function t() {
          throw e
        })
      },
    )
  }
}
```

- JS는 진화를 멈추지 않는 언어이므로 간극은 절대 사라지지 않는다.
- JS 기반으로 프로젝트를 만들 때 트랜스파일이나 폴리필 사용이 표준으로 자리 잡아야 한다.

### 인터프리터 이해하기

- 파싱
- 컴파일

트랜스파일 → 번들링 → JS 엔진에 전달 → 코드 파싱 (추상 구문 트리) → 추상 구문 트리를 이진 바이트 코드로 변경 (JIT 컴파일러 작동) → JS 가상 머신이 프로그램 실행

JS는 인터프리터 언어일까, 컴파일 언어일까?

→ 필자는 컴파일 언어라고 생각한다.

웹어셈블리 (Wasm): 웹 브라우저에서 실행될 수 있는 이진 형태의 소스 코드

- JS가 주력이 아닌 개발자도 JS 엔진에서 돌아가는 코드를 쉽게 작성할 수 있게 해주는데 목적
- 어셈블리 언어와 유사, 파싱과 컴파일 없이 처리

# 자바스크립트 조망하기

JS에서는 파일 각각이 별도의 프로그램

파일을 프로그램으로 취급하기 때문에 파일 하나에만 오류가 있어도 다음 파일 처리되지 않을 수 있음

## 변수 선언과 사용

`const` 로 선언한 변수는 재할당이 불가능할 뿐이지 값을 바꿀 수 없는 것은 아니다.

어떻게 보면 `const` 를 사용해 객체를 정의하는 건 좋지 않은 방식이다.

객체를 재할당하는 건 불가능하지만 값은 바꿀 수 있기 때문이다.

재할당 - `const` 로 선언한 변수에는 허용되지 않음

값 변경 - `const` 로 선언한 변수에 가능함

```tsx
function hello(myName) {
  console.log(`${myName} 님, 안녕하세요.`)
}

hello('카일')
```

`hello` 와 `myName` 은 `var` 로 선언한 변수처럼 작동

```tsx
try {
  someError()
} catch (err) {
  console.log(err)
}
```

`err` 스코프는 `let` 으로 선언한 변수처럼 블록 스코프

## 함수

프로시저: 한 번 이상 호출할 수 있고 입력값이 있을 수 있으며 하나 이상의 출력값을 반환하는 구문의 모음

- 함수는 할당 가능하고 어디든 전달 가능한 값
- 함수는 객체의 한 종류

## 같음에 대한 고찰

- 일치 비교
- 동등 비교

## 강제 변환

강제 변환: 한 타입의 값이 다른 타입의 값으로 변하는 걸 의미

`==` 연산자는 강제 변환을 먼저 실행해 피연산자의 타입을 맞춘 이후 `===` 연산자처럼 작동

`==` 연산자는 숫자형 피연산자를 선호

피연산자 모두가 문자열인 경우 사전처럼 알파벳순으로 문자열 비교

```tsx
var x = '10'
var y = '9'

x < y // true
```
